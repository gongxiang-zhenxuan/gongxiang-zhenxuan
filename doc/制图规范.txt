# Claude Code学术制图规范

## 核心理念
制作符合顶级期刊发表标准的学术级draw.io图表，重点关注视觉清晰度、信息层次和专业美观性。

## 标准制图流程

1. **需求分析**：创建图片需求文档.md，提取核心概念和配色方案
2. **XML制作**：基于标准模板创建draw.io兼容文件
3. **视觉优化**：应用字体层次、配色协调、布局优化规范
4. **质量检查**：确保连接线锚定、拖拽跟随、学术规范性

## 五色系配色方案

| 概念类别 | 配色方案 | 应用场景 |
|---------|----------|----------|
| 数据输入类 | 蓝色系: #1976d2, #e3f2fd, #0d47a1 | 数据源、采集、输入模块 |
| 处理引擎类 | 橙色系: #f57c00, #fff8e1, #e65100 | 算法、计算、AI模块 |
| 流程控制类 | 紫色系: #7b1fa2, #f3e5f5, #4a148c | 工作流、调度、管理模块 |
| 输出结果类 | 绿色系: #2e7d32, #e8f5e8, #1b5e20 | 结果展示、报告、可视化 |
| 系统支撑类 | 青色系: #00796b, #e0f2f1, #004d40 | 架构、集成、基础设施 |

## 技术规范（Claude Code专用）

### XML文件格式要求

#### 基础结构规范
- **XML声明**：必须包含 `<?xml version="1.0" encoding="UTF-8"?>`
- **根元素结构**：`mxfile` → `diagram` → `mxGraphModel` → `root`
- **文件路径**：`/项目名-Ultimate.xml`

#### 完整XML结构模板
```xml
<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" agent="Claude Code" version="24.7.17" type="device">
  <diagram name="图表名称" id="diagram-id">
    <mxGraphModel dx="1600" dy="1600" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1600" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <!-- 其他元素 -->
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
```

#### mxCell元素规范
- **图形元素**：必须包含 `vertex="1" parent="1"`
- **连接线元素**：必须包含 `edge="1" parent="1" source="源ID" target="目标ID"`
- **特殊字符转义**：`< → &lt;`, `> → &gt;`, `& → &amp;`, 换行符 → `&#xa;`
- **连接线规范**：必须使用source/target属性锚定到具体图形ID
- **连接线标签规范**：禁止在连接线(edge)元素上直接添加文字标签，必须使用独立的文字框(mxCell)元素
- **文字框独立**：所有文字标签都应创建独立的mxCell文本元素，便于精确定位和样式控制

#### 视觉优化要求

**字体层次规范**：
- **主标题**：≥32px，粗体，深色主题色
- **模块标题**：20px，粗体，与模块主色调一致
- **正文内容**：17px，常规字重，黑色或深灰色
- **说明文字**：≥17px，常规字重
- **图例说明**：标题21px粗体，内容19px

**模块设计规范**：
- **分层结构**：框架 + 标题 + 正文分离设计
- **标题样式**：使用模块主色，fontSize=20，fontStyle=1
- **正文样式**：黑色文字，fontSize=17，fontStyle=0
- **圆角设计**：使用 `arcSize=15` 实现圆润效果
- **内容对齐**：标题和正文均左对齐，合理缩进

**布局优化要求**：
- **布线清晰**：避免复杂交叉，使用直接的点对点连接
- **连接线标签**：连接线上的说明文字必须使用独立文字框，而非内嵌在连接线元素中
- **留白合理**：元素间距≥50px，确保视觉舒适度
- **配色协调**：使用统一的五色系配色方案
- **视觉层次**：通过字体大小、颜色、位置建立清晰的信息层次

**方正布线规范**（专业工程图标准）：
- **垂直流水线设计**：输入层居中，处理层水平等距排列，协作层居中，输出层垂直对应
- **直角连接系统**：所有连线必须使用水平+垂直的直角路径，禁止斜线连接
- **waypoints定义**：使用mxGraph的waypoints功能定义所有拐点，确保规整路径
- **对齐优化**：模块间严格对齐，连接点精确定位，实现专业工程图效果
- **反馈回路规整**：质量反馈等复杂连线使用规整的直角路径，避免复杂曲线

**文字内容简化规范**：
- **避免大段文字**：每个功能点控制在1-2行内，保持视觉简洁
- **关键词提取**：使用核心关键词而非完整句子描述
- **层次分明**：重要信息用emoji图标+简短描述的形式
- **统一格式**：功能列表使用"• 核心词汇+简短说明"格式
- **视觉平衡**：文字密度适中，避免信息过载影响图表美观性

### 图像制作规范
**重要**：Claude Code不直接制作图像文件，而是在图片需求文档中提供制作指导

#### 图片需求文档图像部分要求
- **PNG图像**：提供详细的AI绘图提示词，包含风格、颜色、构图、细节等完整描述
- **SVG图标**：提供简洁的代码制作关键词，适用于文本AI生成矢量代码
- **ICO图标**：提供简洁的查找关键词，用于后续资源检索

#### 图像应用场景
- **PNG**：装饰图像、复杂图形、照片级效果
- **SVG**：图标、简单图形、可缩放矢量元素
- **ICO**：网站图标、应用图标、系统图标

#### XML文件图像处理
- **预留位置**：在XML中为图像预留引用位置和尺寸
- **占位符**：使用文本标识符标记图像位置
- **路径规范**：按标准路径格式预设图像引用

## 图片需求文档制作规范

### 文档结构要求
图片需求文档应包含以下核心部分：

1. **项目概述**：简要说明项目背景和图像制作目的
2. **图像制作分类说明**：明确PNG/SVG/ICO三种图像类型的用途和制作方式
3. **概念提取与分类**：按五色系分类项目核心概念
4. **PNG图像制作指导**：为每张主要图表提供详细AI绘图提示词
5. **SVG图标制作指导**：批量图标生成的代码制作关键词
6. **ICO图标制作指导**：资源检索用的查找关键词列表
7. **质量标准**：学术发表和技术实现标准

### PNG图像提示词编写规范
每个PNG图像的AI绘图提示词应包含：

- **构图设计**：整体布局、元素分布、视觉层次
- **视觉元素**：背景、主要模块、连接关系、配色方案
- **技术规范**：尺寸、字体、分辨率、风格要求
- **专业要求**：学术风格、工程图规范、期刊发表标准

### SVG图标关键词编写规范
- **分类组织**：按五色系技术分类组织图标
- **描述方式**：简洁的图形描述，适合代码生成
- **技术规格**：统一的尺寸、格式、风格要求
- **批量生成**：提供完整的批量生成提示词模板

### ICO图标关键词编写规范
- **查找导向**：以图标库搜索为目标的简洁关键词
- **应用场景**：明确每个图标的具体用途
- **多语言支持**：提供中英文对照的关键词
- **规格统一**：标准的ICO格式和尺寸要求

### 示例项目文件结构
```
示例项目目录/
├── 图一-某某某架构图.xml
├── 图二-某某某流程图.xml
├── 图三-某某某说明图.xml
├── 图片需求文档.md (包含所有PNG/SVG/ICO图像制作指导)
└── 图像资源/ (后续制作)
    ├── png图像/
    ├── svg图标/
    └── ico图标/
```

### 文档命名规范
- **XML文件**：`图[序号]-[具体内容描述图]-Ultimate.xml`
- **需求文档**：`图片需求文档.md`
- **图像目录**：`图像资源/` 下分类存储

## 质量检查清单

### 文件完整性
- [ ] XML文件可在draw.io正常打开
- [ ] 图像位置正确预留和标记
- [ ] 图片需求文档包含完整图像制作指导
- [ ] 文件路径和命名规范正确
- [ ] 目录结构清晰完整

### 图片需求文档完整性
- [ ] 项目概述和图像制作分类说明完整
- [ ] PNG图像提示词详细完整，包含构图、视觉、技术规范
- [ ] SVG图标批量生成提示词清晰可执行
- [ ] ICO图标查找关键词简洁准确
- [ ] 概念提取按五色系正确分类
- [ ] 质量标准符合学术发表要求

### 功能正确性
- [ ] 连接线正确锚定到图形
- [ ] 拖拽图形时连接线跟随
- [ ] 文字标签独立且清晰
- [ ] 整体布局美观合理

### 学术规范性
- [ ] 符合期刊发表标准
- [ ] 信息传达准确清晰
- [ ] 视觉层次分明
- [ ] 配色专业统一

## 简化沟通模式

### 问题反馈格式
```
问题：[具体描述]
期望：[期望效果]
优先级：高/中/低
```

### 快速优化请求
```
基于当前版本优化：
- 保持：[已有优点]
- 改进：[具体方面]
- 简化：[复杂部分]
```

---

**Claude Code环境优势**：
- 直接文件读写操作，无需手动复制粘贴
- 智能生成图像制作指导，提高协作效率
- 自动化创建图片需求文档，标准化图像制作流程
- 实时验证XML格式，减少错误
- 自动化质量检查，确保标准
- 统一的五色系概念分类，保证视觉一致性
- 分类生成PNG/SVG/ICO三种图像类型的制作指导