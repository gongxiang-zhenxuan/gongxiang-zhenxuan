# 骑手服务文档

## 📁 文档列表

### 原系统分析（暹罗外卖）
- [系统整体流程设计.md](系统整体流程设计.md) - 暹罗外卖系统完整的微服务架构和业务流程设计
- [收入分配规则设计.md](收入分配规则设计.md) - 暹罗外卖系统骑手服务收入分配核心设计文档

### 🎯 贡享臻选2.0新系统设计
- [贡享臻选骑手抢单配送系统设计.md](贡享臻选骑手抢单配送系统设计.md) - **⭐ 重点文档**

## 🚚 系统对比概述

### 暹罗外卖系统（现有）
- 采用**商家自配送模式**
- 统一抽成的收入分配机制
- 智能配送费计算（基于距离）
- 支持商家立减配送费
- 透明的三方收入分配

### 贡享臻选2.0系统（新设计）
参考美团等主流外卖平台模式设计的完整骑手抢单配送系统

#### 🚀 核心功能亮点
- **智能抢单机制**：基于地理位置的订单推荐和分布式抢单
- **附近订单查询**：根据骑手位置智能推送可抢订单  
- **完整配送流程**：到店→取餐→配送中→已送达全流程状态管理
- **实时位置追踪**：WebSocket实现用户和骑手实时位置同步
- **收入结算系统**：公平透明的多维度收入计算
- **异常处理机制**：完善的配送异常情况处理

#### ⚡ 技术特色
- 分布式架构，高性能高并发
- Redis分布式锁防止重复抢单
- 地理位置优化算法（GeoHash + Redis Geo）
- 多订单并行配送路径规划
- 完整的监控和数据分析体系

#### 📊 系统架构
```
用户端 ──┐
商户端 ──┤──► API网关 ──► 订单服务 ──► 消息队列 ──► 骑手推送
骑手端 ──┘                    │                │
管理端 ──────────────────────────┘                │
                                               │
                          Redis缓存 ◄─────────┘
                          MySQL数据库
                          腾讯地图API
```

## 🗂️ 相关模块

### 暹罗外卖系统
- `siam-rider` - 骑手服务核心模块
- `siam-order` - 订单服务（包含配送费计算）
- `siam-merchant` - 商家服务（收入分配相关）

### 贡享臻选2.0系统
- `rider-service` - 骑手管理服务
- `order-service` - 订单抢单服务
- `location-service` - 地理位置服务
- `payment-service` - 收入结算服务
- `notification-service` - 消息推送服务

## 🚀 快速开始

### 对于暹罗外卖系统
1. 阅读 [收入分配规则设计.md](收入分配规则设计.md) 了解核心业务规则
2. 查看 [系统整体流程设计.md](系统整体流程设计.md) 了解架构设计
3. 配置平台抽成比例等参数

### 对于贡享臻选2.0系统
1. **必读** [贡享臻选骑手抢单配送系统设计.md](贡享臻选骑手抢单配送系统设计.md)
2. 了解抢单机制和配送流程设计
3. 参考技术实现方案进行开发

---

📞 **技术支持**: 如有问题请联系技术团队  
📅 **更新时间**: 2024年  
🎯 **重点推荐**: 贡享臻选2.0骑手抢单配送系统设计文档包含完整的美团式外卖配送解决方案